---
export interface Props {
  title: string;
  subtitle: string;
  ctaText: string;
  ctaLink: string;
  imageUrl: string;
}

const { title, subtitle, ctaText, ctaLink, imageUrl } = Astro.props;
---

<section class="bg-black text-white relative overflow-hidden">
  <div
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 grid md:grid-cols-2 gap-16 items-center"
  >
    <!-- Text -->
    <div class="space-y-8 animate-fadeInLeft relative z-10">
      <h1
        class="text-5xl md:text-6xl font-light tracking-tight leading-tight"
        set:html={title}
      />
      <p class="text-lg text-gray-400 max-w-md">{subtitle}</p>
      <a
        href={ctaLink}
        class="inline-block px-8 py-3 bg-white text-black font-medium text-lg rounded-full hover:bg-gray-100 transition-all duration-300"
      >
        {ctaText} â†’
      </a>
    </div>

    <!-- Parallax Image -->
    <div
      class="relative h-[400px] md:h-[500px] rounded-xl overflow-hidden shadow-2xl animate-fadeInRight"
    >
      <div
        id="parallax-image"
        class="absolute inset-0 bg-cover bg-center scale-105"
        style={`background-image: url('${imageUrl}'); transform: translateY(var(--parallax, 0px));`}
      >
      </div>
    </div>
  </div>

  <!-- Subtle gradient overlay -->
  <div
    class="absolute inset-0 bg-gradient-to-br from-black/50 to-transparent pointer-events-none z-0"
  >
  </div>

  <style is:global>
    @keyframes fadeInLeft {
      0% {
        opacity: 0;
        transform: translateX(-40px);
      }
      100% {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes fadeInRight {
      0% {
        opacity: 0;
        transform: translateX(40px);
      }
      100% {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .animate-fadeInLeft {
      animation: fadeInLeft 1s ease-out forwards;
    }

    .animate-fadeInRight {
      animation: fadeInRight 1s ease-out forwards;
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const image = document.getElementById("parallax-image");
      if (image) {
        window.addEventListener("scroll", () => {
          const scrollY = window.scrollY;
          image.style.setProperty("--parallax", `${scrollY * 0.2}px`);
        });
      }
    });
  </script>
</section>
